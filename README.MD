# ğŸ½ï¸ El Sabor de SiÃ³n - API de GestiÃ³n de Restaurante y Domicilios

## ğŸ“Œ DescripciÃ³n  

*"El Sabor de SiÃ³n"* es un restaurante en crecimiento que enfrenta problemas en la gestiÃ³n manual de pedidos, control del menÃº y administraciÃ³n de usuarios. Los pedidos se toman de forma manual, lo que genera errores en la preparaciÃ³n, retrasos en las entregas y dificultades en el seguimiento de los pagos.

AdemÃ¡s, el restaurante no cuenta con un sistema digital que permita a los clientes realizar pedidos en lÃ­nea, lo que limita su capacidad de expansiÃ³n.

Con el crecimiento del negocio, se requiere un sistema que **automatice la gestiÃ³n de pedidos, el menÃº y la administraciÃ³n de usuarios**, permitiendo a los clientes hacer pedidos en lÃ­nea y optimizando la entrega de los mismos. Se tomÃ³, como parte de la soluciÃ³n, desarrollar una API RESTFull que se encargue de comunicar el servidor con la aplicaciÃ³n grÃ¡fica.

# ğŸ“œ Requerimientos del Sistema

1. **Usuarios y Roles:**
    - **Administrador**: Gestiona menÃº, usuarios y reportes.
    - **Gestor de Pedidos:** Acepta, cancela y actualiza el estado de los pedidos.
    - **Cliente:** Realiza pedidos y consulta su historial.

2. **MenÃº y Productos:**

    - CRUD de platos con categorÃ­as (Entradas, Platos Fuertes, Bebidas, Postres).
    - ValidaciÃ³n de disponibilidad (no se pueden pedir platos agotados).

3. **Pedidos:**

    - Flujo de estados: **Pendiente â†’ En PreparaciÃ³n â†’ Listo â†’ Entregado.**
    - Pedidos a domicilio requieren direcciÃ³n y contacto.
    - No se puede modificar un pedido en preparaciÃ³n.

4. Pagos:

    - MÃ©todos aceptados: **Efectivo, Tarjeta, Transferencia.**
    - No se pueden realizar pedidos con facturas pendientes.

---

# ğŸ›  Endpoints Principales
### ğŸ” AutenticaciÃ³n
- `POST /auth/register` â†’ Registrar usuario
- `POST /auth/login` â†’ Iniciar sesiÃ³n
### ğŸ½ï¸ MenÃº
- `GET /menu` â†’ Listar platos
- `POST /menu` â†’ Agregar plato (Admin)
- `PUT /menu/{id}` â†’ Editar plato (Admin)
- `DELETE /menu/{id}` â†’ Eliminar plato (Admin)
### ğŸ›’ Pedidos
- `POST /pedidos` â†’ Crear pedido (Cliente)
- `GET /pedidos/{id}` â†’ Consultar pedido
- `PUT /pedidos/{id}/estado` â†’ Actualizar estado (Gestor de Pedidos)
### ğŸ’° Pagos
- `POST /pagos` â†’ Registrar pago
- `GET /pagos/{pedidoId}` â†’ Consultar pago
---

## ğŸš€ **TecnologÃ­as Utilizadas**
- **Java 21+**
- **Spring Boot 3+**
- **Spring Security + JWT** (AutenticaciÃ³n, autorizaciÃ³n y seguridad)
- **Spring Data JPA** (Persistencia)
- **Spring Jakarta Validation** (Validacion de campos)
- **MySQL** (Base de datos)
- **Lombok** (ReducciÃ³n de cÃ³digo boilerplate)
- **Swagger/OpenAPI** (DocumentaciÃ³n)
- **MapStruct** (ConversiÃ³n de entidades a DTOs)
- **API de pago y transacciones de Mercado Pago** (Para manejar los procesos de pagos en la app)
---

## ğŸ“‚ **Estructura del Proyecto**
```bash
el-sabor-de-sion/
â”‚â”€â”€ src/main/java/com/elsabordesion
â”‚   â”œâ”€â”€ security/               # ConfiguraciÃ³n de seguridad y JWT. Su estructura de subcarpetas es una copia de la estructra principal, pero en el contexto de segurodad
â”‚   â”œâ”€â”€ controller/             # Controladores (endpoints de la API)
â”‚   â”œâ”€â”€ data/                   # Contiene todo lo necesario para la persistencia
â”‚   â”‚   â”œâ”€â”€ dto/                # Objetos para transferencia de datos
â”‚   â”‚   â”‚   â”œâ”€â”€ input/          # DTOs para la entrada de datos
â”‚   â”‚   â”‚   â”œâ”€â”€ output/         # DTOs para la salidad de datos
â”‚   â”‚   â”œâ”€â”€ enums/              # Contiene los enumerados para representar columnas con opcciones fijas (ENUMS)
â”‚   â”‚   â”œâ”€â”€ entity/             # Entidades para mapear en la base de datos
â”‚   â”‚   â”œâ”€â”€ repository/         # Repositorios para acceso a datos                  
â”‚   â”œâ”€â”€ service/                # LÃ³gica de negocio
â”‚   â”œâ”€â”€ util/                   # Clases utilitarias (mapeo, validaciones, etc.)
â”‚   â”‚   â”œâ”€â”€ mapper              # Mapeadores
â”‚â”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.properties  # ConfiguraciÃ³n de la aplicaciÃ³n
â”‚â”€â”€ pom.xml                     # Dependencias del proyecto
â”‚â”€â”€ README.md                   # DocumentaciÃ³n del proyecto
